### دیزاین پترن singleton

در کلاس هایی مانند Sound , Charblock به دلیل اینکه مدام نیاز هست برای امور مختلف از کلاس استفاده شود و از آن یک Object بگیریم با استفاده از دیزاین پترن singleton از ایجاد شدن instance جدید جلوگیری کرده و از شی قبلی که ساخته شده است استفاده میکنیم.

مثال این کار را در کلاس sound تشریح می کنیم تا با کلیات انجام آن آشنا شوید .

از کلاس sound برای پخش کلیه موسیقی های بازی استفاده میشود ، این موسیقی ها شامل : صدای پس زمینه - صدای دکمه ها - صدای لودینگ طرح تیم - صدای جابجایی کاراکترها ، … می باشد ، اگر کمی دقت کنیم متوجه میشویم که جابجایی کاراکتردر صفحه بسیار زیاد انجام میشود و ما نیاز داریم با هر جابجای از کلاس Audio یک شی ساخته و پخش کنیم …

این موضوع باعث مصرف بالای رم و cpu میشود ، پس بجای انجام این کار ما با ایجاد یک مکانیزم ساده از ساخته شدن instance های متعدد جلوگیری میکنیم.

ساز و کار این کار به این شکل است که ما متدهای get , make , set را برای instance ساخته ایم و زمانی که لازم باشد شی جدیدی ساخته شود با متد \_getInstance بررسی میکنیم که اگر قبلا شی ای برای صدا ساخته شده است یا خیر و در صورت ساخته شدن شی موجود برای صدا را play , pause میکنیم.

معادل کاری مشابه البته با کمی پیچیدگی Object زیاد در کلاس Charblock برای ساخته شدن و مدیریت بلاک های کاراکترها انجام میشود ، اگر کمی در مورد بازی فکر کنیم می بینیم که مثلا اگر کاربر یک بازی ۱۰x۱۰ را بخواهد انجام دهد ، تعداد شی های ساخته شده ۱۰۰ عدد خواهد بود ! ولی در معماری انتخابی ما برای کلاس Charblock این تعداد به یک عدد کاهش پیدا میکند .
