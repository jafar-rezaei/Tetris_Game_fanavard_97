<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Fanavard/classes/Modal.class.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Interval.html">Interval</a><ul class='methods'><li data-type='method'><a href="Interval.html#clear">clear</a></li><li data-type='method'><a href="Interval.html#clearAll">clearAll</a></li><li data-type='method'><a href="Interval.html#make">make</a></li></ul></li><li><a href="MaterialColor.html">MaterialColor</a><ul class='methods'><li data-type='method'><a href="MaterialColor.html#.getRandomColor">getRandomColor</a></li><li data-type='method'><a href="MaterialColor.html#.pickRandomProperty">pickRandomProperty</a></li></ul></li><li><a href="Matrix.html">Matrix</a></li><li><a href="Modal.html">Modal</a><ul class='methods'><li data-type='method'><a href="Modal.html#createContent">createContent</a></li><li data-type='method'><a href="Modal.html#createFooter">createFooter</a></li><li data-type='method'><a href="Modal.html#createHeader">createHeader</a></li><li data-type='method'><a href="Modal.html#destroy">destroy</a></li><li data-type='method'><a href="Modal.html#show">show</a></li></ul></li><li><a href="Sound.html">Sound</a><ul class='methods'><li data-type='method'><a href="Sound.html#.getInstance">getInstance</a></li><li data-type='method'><a href="Sound.html#.makeInstanceName">makeInstanceName</a></li><li data-type='method'><a href="Sound.html#.playByKey">playByKey</a></li><li data-type='method'><a href="Sound.html#.setInstance">setInstance</a></li><li data-type='method'><a href="Sound.html#pause">pause</a></li><li data-type='method'><a href="Sound.html#play">play</a></li></ul></li><li><a href="Storage.html">Storage</a><ul class='methods'><li data-type='method'><a href="Storage.html#.get">get</a></li><li data-type='method'><a href="Storage.html#.getInt">getInt</a></li><li data-type='method'><a href="Storage.html#.getJson">getJson</a></li><li data-type='method'><a href="Storage.html#.set">set</a></li></ul></li><li><a href="Swipe.html">Swipe</a><ul class='methods'><li data-type='method'><a href="Swipe.html#buildListeners">buildListeners</a></li><li data-type='method'><a href="Swipe.html#destroy">destroy</a></li><li data-type='method'><a href="Swipe.html#onTouchEnd">onTouchEnd</a></li><li data-type='method'><a href="Swipe.html#onTouchStart">onTouchStart</a></li><li data-type='method'><a href="Swipe.html#whileTouch">whileTouch</a></li></ul></li><li><a href="Timer.html">Timer</a><ul class='methods'><li data-type='method'><a href="Timer.html#pause">pause</a></li><li data-type='method'><a href="Timer.html#resume">resume</a></li><li data-type='method'><a href="Timer.html#start">start</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#addLanguage">addLanguage</a></li><li><a href="global.html#allowedInitTypes">allowedInitTypes</a></li><li><a href="global.html#allowInit">allowInit</a></li><li><a href="global.html#arshLoader">arshLoader</a></li><li><a href="global.html#build">build</a></li><li><a href="global.html#buildDummy">buildDummy</a></li><li><a href="global.html#buildPlugIns">buildPlugIns</a></li><li><a href="global.html#checkLoad">checkLoad</a></li><li><a href="global.html#debugMode">debugMode</a></li><li><a href="global.html#deepExtend">deepExtend</a></li><li><a href="global.html#defaultLoadProperties">defaultLoadProperties</a></li><li><a href="global.html#defaultType">defaultType</a></li><li><a href="global.html#deleteNode">deleteNode</a></li><li><a href="global.html#disableCache">disableCache</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#isFunction">isFunction</a></li><li><a href="global.html#jRun">jRun</a></li><li><a href="global.html#loadedFiles">loadedFiles</a></li><li><a href="global.html#notAllowedUserAttributes">notAllowedUserAttributes</a></li><li><a href="global.html#plugins">plugins</a></li><li><a href="global.html#reverse">reverse</a></li><li><a href="global.html#sanitizeName">sanitizeName</a></li><li><a href="global.html#setLoadedFlag">setLoadedFlag</a></li><li><a href="global.html#TetrisWords">TetrisWords</a></li><li><a href="global.html#urlPrefix">urlPrefix</a></li><li><a href="global.html#version">version</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Fanavard/classes/Modal.class.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @class Modal
 * Modal manager class which manages CRUD operation of Modals.
 *
 * @constructor
 * @param text {string} Text to show in modal
 * @param {boolean} [isRtl=false] Determines if text should be rtl or ltr
 * @param onOk {function} Executes if user clicked inside Modal
 * @param onNo {function} Executes if user clicked outside Modal
 *
 * @property isRtl {boolean} Show rtl status of modal
 *
 *
 * @example
 *  //Create a new instance
 *  let modal = new Modal({
 *       header : "Our Title goes here" ,
 *       content : "It is a message from our game to say yes you loose game !",
 *       buttons : [
 *           {
 *               text : "Ok",
 *               isOk : true,
 *               onclick : function () {
 *                   this.destroy();
 *               }
 *           },
 *           {
 *               text : "Do not",
 *               notOk : true,
 *               onclick : function () {
 *                   alert("say why?!");
 *               }
 *           }
 *       ]
 *   }, true );
 *
 *  //Show modal
 *  modal.show();
 *
 *  //Destory instance
 *  modal.destroy();
 *
 */
class Modal {

    /**
     * Constructor of modal class
     * @param options
     * @param isRtl
     */
    constructor(options, isRtl) {

        this.onDestroy = options.onDestroy || (() => {});
        this.isRtl = typeof isRtl === "undefined" ? false : isRtl;
        this.animate = typeof options.animate === "undefined" ? false : options.animate;


        let modalHolder = document.createElement('div');
        let modal = document.createElement('div');
        let modalAnimateClass = this.animate ? "animated bounceIn" : "";


        modalHolder.className="modalHolder";

        // add modal classes
        modal.className = modalAnimateClass + " modal " + (isRtl ? "rtl" : "ltr");


        // create title
        modal.appendChild(this.createHeader(options));

        // create content
        modal.appendChild(this.createContent(options));


        // create footer
        let footer = this.createFooter(options);
        if(footer !== false){
            modal.appendChild(footer);
        }


        modalHolder.appendChild(modal);
        document.body.appendChild(modalHolder);


        this.node = modalHolder;


        // Detect all clicks on the document
        modalHolder.addEventListener("click", (event) => {

            if(event.target.classList.contains("closeModal")){
                this.destroy();
            }
        })
    };


    /**
     * Create modal header
     * @param options
     * @return {HTMLDivElement}
     */
    createHeader(options){
        let modalTitle = document.createElement("div");
        let HeaderHtml = options.header || "";

        HeaderHtml += '&lt;i class="linearicon linearicon-cross-circle closeModal">&lt;/i>';

        modalTitle.className = "titleModal";
        modalTitle.innerHTML = HeaderHtml;

        return modalTitle;
    }


    /**
     * Create modal content
     * @param options
     * @return {HTMLDivElement}
     */
    createContent(options){
        let modalContent = document.createElement("div");
        modalContent.className = "contentModal";
        modalContent.innerHTML = options.content;

        return modalContent;
    }


    /**
     * Create modal footer and its buttons
     * @param options
     * @return {*}
     */
    createFooter(options){

        // Do we have footer for modals , create it and buttons
        if(options.buttons.length > 0){

            let footer = document.createElement("div");
            footer.className = "footerModal";


            // create buttons on footer
            options.buttons.forEach(function (optionBtn) {

                // create button
                let button = document.createElement("div");
                button.innerHTML = optionBtn.text || "";
                button.className = "buttonModal " + (optionBtn.isOk ? "isOk" : (optionBtn.notOk ? "notOk" : ""));
                button.onclick = optionBtn.onclick || (() => {});

                // add button to footer
                footer.appendChild(button);
            });

            return footer;
        }else{
            return false;
        }
    }


    /**
     * Show modal
     */
    show() {
        document.getElementById("container").classList.add('blur');
    }

    /**
     * Removes modal from page
     */
    destroy() {
        if(this.animate) {
            this.node.classList.add("bounceOut");
        }

        setTimeout(
            () => {
                document.getElementById("container").classList.remove('blur');
                this.node.parentNode.removeChild(this.node);
            }, (this.animate ? 310 : 0)
        );

        this.onDestroy();
    }

}

</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Jul 09 2018 23:46:05 GMT+0430 (+0430) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>


</body>
</html>
